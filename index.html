<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://favicon-generator.org/favicon-generator/htdocs/favicons/2014-12-29/860ad6db02bdcc2c0bc29ab7997bd515.ico"
    />

    <title>TensorVision</title>

    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      canvas {
        width: 100%;
        height: 100%;
      }
    </style>

    <script>
      window.console = window.console || function (t) {};
    </script>

    <script>
      if (document.location.search.match(/type=embed/gi)) {
        window.parent.postMessage("resize", "*");
      }
    </script>
  </head>

  <body
    translate="no"
    data-new-gr-c-s-check-loaded="14.1095.0"
    data-gr-ext-installed=""
  >
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r122/three.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js"></script>
    <script id="rendered-js">
      var scene = new THREE.Scene();
      document.addEventListener("mousemove", onMouseMove, false);
      var camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      var mouseX;
      var mouseY;

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      window.addEventListener("resize", function () {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      var distance = Math.min(200, window.innerWidth / 4);
      var geometry = new THREE.Geometry();

      for (var i = 0; i < 1600; i++) {
        var vertex = new THREE.Vector3();

        // var theta = THREE.Math.randFloatSpread(360);
        var theta = Math.acos(THREE.Math.randFloatSpread(2));
        var phi = THREE.Math.randFloatSpread(360);

        vertex.x = distance * Math.sin(theta) * Math.cos(phi);
        vertex.y = distance * Math.sin(theta) * Math.sin(phi);
        vertex.z = distance * Math.cos(theta);

        geometry.vertices.push(vertex);
      }
      var particles = new THREE.Points(
        geometry,
        new THREE.PointsMaterial({ color: 0xff44ff, size: 2 })
      );
      particles.boundingSphere = 50;

      var renderingParent = new THREE.Group();
      renderingParent.add(particles);

      var resizeContainer = new THREE.Group();
      resizeContainer.add(renderingParent);
      scene.add(resizeContainer);

      camera.position.z = 400;

      var animate = function () {
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
      };
      var myTween;
      function onMouseMove(event) {
        if (myTween) myTween.kill();

        mouseX = (event.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        myTween = gsap.to(particles.rotation, {
          duration: 0.1,
          x: mouseY * -1,
          y: mouseX,
        });
        //particles.rotation.x = mouseY*-1;
        //particles.rotation.y = mouseX;
      }
      animate();

      // Scaling animation
      var animProps = { scale: 1, xRot: 0, yRot: 0 };
      gsap.to(animProps, {
        duration: 10,
        scale: 1.3,
        repeat: -1,
        yoyo: true,
        ease: "sine",
        onUpdate: function () {
          renderingParent.scale.set(
            animProps.scale,
            animProps.scale,
            animProps.scale
          );
        },
      });

      gsap.to(animProps, {
        duration: 120,
        xRot: Math.PI * 2,
        yRot: Math.PI * 4,
        repeat: -1,
        yoyo: true,
        ease: "none",
        onUpdate: function () {
          renderingParent.rotation.set(animProps.xRot, animProps.yRot, 0);
        },
      });
      //# sourceURL=pen.js
    </script>
    <canvas
      width="1214"
      height="544"
      style="width: 1214px; height: 544px"
    ></canvas>
  </body>
  <!-- -->
  <h1>P</h1>
</html>
